plugins {
    id 'java'
}

group 'com.grassminevn.SkyGenCore'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
    maven {
        url = 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/'
    }
}

dependencies {
    // Thay thế '1.21-R0.1-SNAPSHOT' bằng phiên bản chính xác của Spigot API cho Minecraft 1.21 khi nó có sẵn
    implementation 'org.spigotmc:spigot-api:1.16-R0.1-SNAPSHOT'
    testImplementation 'junit:junit:4.13.2'
}

// Cấu hình sử dụng Java 17
sourceCompatibility = '17'
targetCompatibility = '17'

// Cấu hình cho task 'jar' để bao gồm các file cần thiết trong file JAR cuối cùng
jar {
    // Đảm bảo rằng file 'plugin.yml' và bất kỳ tài nguyên nào khác trong 'src/main/resources' được bao gồm trong file JAR
    from configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    from sourceSets.main.resources.srcDirs.collect { it.isDirectory() ? it : zipTree(it) }
}
